!function(){"use strict";angular.module("formioAppMovie",["ngSanitize","ui.router","ui.bootstrap","formio","ngFormioHelper","bgf.paginateAnything"]).config(["$stateProvider","$urlRouterProvider","FormioProvider","FormioAuthProvider","FormioResourceProvider","AppConfig","$injector",function(e,i,s,t,r,o,a){s.setAppUrl(o.appUrl),s.setBaseUrl(o.apiUrl),t.setForceAuth(!0),t.setStates("auth.login","playlistIndex"),t.register("login","user","login"),t.register("register","user","register"),angular.forEach(o.resources,function(e,i){r.register(i,e.form,a.get(e.resource+"Provider"))}),i.otherwise("/playlist")}])}(),angular.module("formioAppMovie").provider("PlaylistResource",function(){return{$get:function(){return null},templates:{index:"app/resources/playlist/index.html","abstract":"app/resources/playlist/resource.html"},controllers:{index:["$scope","Formio","AppConfig",function(e,i,s){e.playlists=[],e.playlistAutoPresets=!1,e.playlistPerPage=4,e.playlistUrl=s.resources.playlist.form+"/submission"}],create:["$scope",function(e){e.hideComponents=["latestMovie"]}]}}}),angular.module("formioAppMovie").filter("trusted",["$sce",function(e){return function(i){return e.trustAsResourceUrl(i)}}]).provider("MovieResource",function(){return{$get:function(){return null},parent:"playlist",base:"playlist.",templates:{index:"app/resources/movie/index.html","abstract":"app/resources/movie/resource.html",view:"app/resources/movie/view.html"},controllers:{index:["$scope","$stateParams","AppConfig",function(e,i,s){e.movies=[],e.moviesUrl=s.resources.movie.form+"/submission",e.moviesAutoPresets=!1,e.moviesPerPage=8,e.moviesQuery={"data.playlist._id":i.playlistId}}],view:["$scope",function(e){e.youtube="",e.movie.loadSubmissionPromise.then(function(i){e.youtube="https://www.youtube.com/embed/"+i.data.youtubeId})}],create:["$scope",function(e){e.$on("formSubmission",function(i,s){e.playlist.resource.data.latestMovie=s.data.youtubeId,e.playlist.formio.saveSubmission(e.playlist.resource)})}]}}}),angular.module("formioAppMovie").provider("UserResource",function(){return{$get:function(){return null},parent:"",parents:[],base:"",templates:{index:"",create:"","abstract":"",view:"",edit:"","delete":""},params:{index:{},create:{},"abstract":{},view:{},edit:{},"delete":{}},controllers:{index:["$scope",function(e){e.$on("rowView",function(e,i){console.log(i)})}],"abstract":null,view:["$scope",function(e){e.currentResource.loadFormPromise.then(function(e){console.log(e)}),e.currentResource.loadSubmissionPromise.then(function(e){console.log(e)})}],create:["$scope",function(e){e.$on("formSubmission",function(e,i){console.log(i)})}],edit:["$scope",function(e){e.$on("formSubmission",function(e,i){console.log(i)})}],"delete":["$scope","$stateParams",function(e,i){e.$on("delete",function(e){console.log("Submission Deleted")})}]}}}),angular.module("formioAppMovie").run(["$rootScope","$state","FormioAuth","AppConfig",function(e,i,s,t){s.init(),angular.forEach(t.forms,function(i,s){e[s]=i})}]),angular.module("formioAppMovie").run(["$templateCache",function(e){e.put("app/resources/movie/index.html",'<h3>{{ playlist.resource.data.title }}</h3><div class="row"><div class="col-xs-6 col-md-3" ng-repeat="movie in movies"><a ui-sref="playlist.movie.view({movieId: movie._id})" class="thumbnail"><img ng-src="http://img.youtube.com/vi/{{ movie.data.youtubeId }}/0.jpg" alt="{{ movie.data.title }}"></a></div></div><bgf-pagination collection="movies" url="moviesUrl" url-params="moviesQuery" per-page="moviesPerPage" auto-presets="moviesAutoPresets"></bgf-pagination><a ui-sref="{{ baseName }}Create()" class="btn btn-primary" ng-if="isReady && hasAccess(currentResource.name, \'create_own\')"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> New {{ currentResource.name | capitalize }}</a>'),e.put("app/resources/movie/resource.html",'<h2>{{ currentResource.resource.data.title }}</h2><ul class="nav nav-tabs" ng-if="isReady && (user._id === currentResource.resource.owner)"><li role="presentation" ng-class="{active:isActive(currentResource.name + \'.view\')}" ng-if="hasAccess(currentResource.name, [\'read_all\', \'read_own\'])"><a ui-sref="{{ baseName }}.view()">View</a></li><li role="presentation" ng-class="{active:isActive(currentResource.name + \'.edit\')}" ng-if="hasAccess(currentResource.name, [\'update_all\', \'update_own\'])"><a ui-sref="{{ baseName }}.edit()">Edit</a></li><li role="presentation" ng-class="{active:isActive(currentResource.name + \'.delete\')}" ng-if="hasAccess(currentResource.name, [\'delete_all\', \'delete_own\'])"><a ui-sref="{{ baseName }}.delete()">Delete</a></li></ul><div ui-view=""></div>'),e.put("app/resources/movie/view.html",'<div class="embed-responsive embed-responsive-16by9"><iframe ng-if="movie.resource.data.youtubeId" class="embed-responsive-item" src="{{ youtube | trusted }}"></iframe></div>'),e.put("app/resources/playlist/index.html",'<div class="row"><div class="col-xs-6 col-md-3" ng-repeat="playlist in playlists"><a ui-sref="playlist.movieIndex({playlistId: playlist._id})" class="thumbnail"><img ng-src="http://img.youtube.com/vi/{{ playlist.data.latestMovie }}/0.jpg" alt="{{ playlist.data.title }}"><div class="caption"><h3>{{ playlist.data.title }}</h3><p>{{ playlist.data.description }}</p></div></a></div></div><bgf-pagination collection="playlists" url="playlistUrl" per-page="playlistPerPage" auto-presets="playlistAutoPresets"></bgf-pagination><a ui-sref="{{ baseName }}Create()" class="btn btn-primary" ng-if="isReady && hasAccess(currentResource.name, \'create_own\')"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> New {{ currentResource.name | capitalize }}</a>'),e.put("app/resources/playlist/resource.html",'<h2><a ui-sref="playlist.movieIndex()">{{ currentResource.resource.data.title }}</a></h2><ul class="nav nav-tabs" ng-if="isReady && (user._id === currentResource.resource.owner)"><li role="presentation" ng-class="{active:isActive(currentResource.name + \'.movieIndex\')}" ng-if="hasAccess(currentResource.name, [\'read_all\', \'read_own\'])"><a ui-sref="{{ baseName }}.movieIndex()">View</a></li><li role="presentation" ng-class="{active:isActive(currentResource.name + \'.edit\')}" ng-if="hasAccess(currentResource.name, [\'update_all\', \'update_own\'])"><a ui-sref="{{ baseName }}.edit()">Edit</a></li><li role="presentation" ng-class="{active:isActive(currentResource.name + \'.delete\')}" ng-if="hasAccess(currentResource.name, [\'delete_all\', \'delete_own\'])"><a ui-sref="{{ baseName }}.delete()">Delete</a></li></ul><div ui-view=""></div>')}]);